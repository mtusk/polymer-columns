<link rel="import" href="../../bower_components/polymer/polymer.html">

<link rel="import" href="../miller-columns/miller-columns.html">
<link rel="import" href="../miller-column/miller-column.html">
<link rel="import" href="../miller-column-item/miller-column-item.html">

<dom-module id="polymer-columns-app">
  <template>
    <style is="custom-style">
      :host {
        display: block;
        height: 100%;
      }
    </style>

    <miller-columns configuration="{{millerColumnsConfigration}}"></miller-columns>

  </template>

  <script>
    Polymer({
      is: 'polymer-columns-app',

      properties: {
        firstColumn: {
          type: Object,
          value: {
            name: 'Home',
          }
        },
        millerColumnsConfigration: {
          type: Object,
          value: {
            getColumn: function() {
              // TODO
              // the miller-columns component will invoke this when
              // a column is needed (probably when the user selects a column item)
              // this method should return a column object for the
              // component to add to it's list of columns

              var randomName = Math.floor(Math.random() * (100 - 10)) + 10;
              var randomItemCount = Math.floor(Math.random() * (6 - 1)) + 6;
              var randomItems = _
                .chain(_.range(randomItemCount))
                .map(function(i) {
                  var item = {
                    name: randomName + '-' + i
                  };

                  return item;
                })
                .value();

              var column = {
                name: randomName,
                items: randomItems
              };

              return column;
            }
          }
        }
      }

    });
  </script>
</dom-module>
